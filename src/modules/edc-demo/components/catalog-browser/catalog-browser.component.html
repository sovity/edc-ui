<div id="wrapper">
  <div class="flex flex-row">
    <!-- Search Bar -->
    <mat-form-field class="search-form-field" color="accent">
      <mat-label>Search catalog</mat-label>
      <mat-icon matPrefix>search</mat-icon>
      <input matInput [(ngModel)]="searchText" (input)="onSearch()" />
      <button
        *ngIf="searchText"
        mat-icon-button
        matSuffix
        (click)="searchText = ''; onSearch()">
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>

    <!-- Connector IDs / Catalog URLs -->
    <mat-form-field
      class="search-form-field mat-hint-text-ellipsis"
      color="accent"
      style="margin-left: 15px">
      <mat-label>Connector IDs</mat-label>
      <mat-icon matPrefix>link</mat-icon>
      <input
        matInput
        placeholder="https://other-connector.com/api/v1/ids/data"
        [(ngModel)]="customProviders"
        (input)="onCatalogUrlsChange()" />
      <mat-hint
        *ngIf="presetProvidersMessage"
        [matTooltip]="presetProvidersMessage"
        >{{ presetProvidersMessage }}</mat-hint
      >
    </mat-form-field>

    <!-- Spacer -->
    <div style="flex-grow: 1"></div>

    <!-- Pagination -->
    <mat-paginator
      *ngIf="contractOffersList.isReady"
      hidePageSize="true"
      pageSize="filteredContractOffers.length"
      [length]="contractOffersList.data.numTotalContractOffer">
    </mat-paginator>
  </div>
  <div class="flex flex-row justify-center">
    <edc-demo-loading-state
      *ngIf="contractOffersList.isLoading"></edc-demo-loading-state>
    <edc-demo-error-state
      *ngIf="contractOffersList.isError"
      [data]="contractOffersList.error.failureMessage"></edc-demo-error-state>
    <edc-demo-empty-state
      *ngIf="
        contractOffersList.isReady &&
        contractOffersList.data.numTotalContractOffer === 0
      "
      [data]="'NO CONTRACT OFFERS FOUND'"></edc-demo-empty-state>
    <div
      *ngIf="
        contractOffersList.isReady &&
        contractOffersList.data.numTotalContractOffer >= 1
      ">
      <edc-demo-contract-offer-list
        *ngIf="contractOffersList.data.numTotalContractOffer"
        [contractOffers]="contractOffersList.data.filteredContractOffers"
        (contractOfferClick)="
          onContractOfferClick($event)
        "></edc-demo-contract-offer-list>
    </div>
  </div>
</div>
